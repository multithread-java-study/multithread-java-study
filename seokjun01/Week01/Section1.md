# 📚 1주차 - 섹션 2

##  멀티태스킹(Multitasking)과 멀티프로세싱(Multiprocessing)

운영체제를 이해하면 멀티태스킹과 멀티프로세싱의 차이를 명확히 알 수 있다.
음악을 들으면서 워드 프로그램으로 문서를 작성한다고 가정해보자.

#### 단일 CPU 코어 환경
- CPU 코어가 1개라면 **한 순간에 하나의 프로그램만 실행 가능**하다.
- 하지만 프로그램 A가 전부 끝난 뒤에야 프로그램 B가 실행된다면, 너무 답답하다!

#### 멀티태스킹
- 하나의 CPU 코어에서 **여러 프로그램을 동시에 실행하는 것처럼 보이게 하는 기술**.
- 운영체제가 **프로그램 A, B의 실행 시간을 아주 잘게 쪼개어 번갈아 실행**한다.  
  → 예: `A → B → A → B → A → B …`
- 이 방식은 **시분할 기법**이라고 부른다.

어떤 프로그램을 언제, 얼마나 실행할지는 **운영체제(OS)** 가 결정한다.  
이 과정을 **스케줄링(Scheduling)** 이라고 한다.

#### 멀티프로세싱
- CPU 코어가 2개 이상이라면?
- 예를 들어 **2코어 CPU**에서는 실제로 두 프로그램을 동시에 실행할 수 있다.
- 즉, **여러 CPU 코어가 병렬로 동작하여 여러 작업을 물리적으로 동시에 수행**하는 방식.

차이점:
- **멀티태스킹** → 단일 CPU가 소프트웨어적으로 동시에 실행되는 것처럼 보이게 함.
- **멀티프로세싱** → 다중 CPU 코어가 실제로 동시에 여러 작업을 수행.

---

##  프로세스와 스레드

### 프로그램 → 프로세스
- **프로그램**은 실행 전까지는 단순한 파일에 불과하다.
- 실행 순간, 운영체제는 **프로세스(Process)** 를 생성한다.
- 프로세스는 **독립적인 메모리 공간**을 가지며, OS가 별도의 작업 단위로 관리한다.

### 프로세스의 메모리 구조
- **코드(Code) 섹션** : 실행할 명령어
- **데이터(Data) 섹션** : 전역 변수, 정적 변수
- **힙(Heap)** : 동적 메모리 할당 공간
- **스택(Stack)** : 함수 호출, 지역 변수, 매개변수

### 스레드(Thread)
- 스레드는 **프로세스 내에서 실행되는 작업의 단위**다.
- 하나의 프로세스는 반드시 하나 이상의 스레드를 가진다.
- 스레드는 프로세스의 메모리(코드, 데이터, 힙)를 공유한다.
- 단, **각 스레드는 자신만의 스택**을 가진다.
---

## 컨텍스트 스위칭(Context Switching)

### 멀티태스킹의 실제 동작
- 운영체제가 먼저 **스레드 A**를 실행한다.
- 하지만 멀티태스킹을 위해 **A를 잠시 멈추고 스레드 B**를 실행한다.
- 이후 다시 A로 돌아가려면 단순히 이어서 실행할 수 없고, **이전 실행 상태를 복원**해야 한다.

### 과정
1. 스레드 A를 멈출 때:
    - **레지스터 값, 프로그램 카운터(실행 위치), 변수 상태** 등을 메모리에 저장한다.
2. 스레드 B 실행
3. 다시 스레드 A로 전환할 때:
    - 저장해둔 상태를 CPU에 다시 불러온다.

### 특징
- 이 과정을 **컨텍스트 스위칭(Context Switching)** 이라 한다.
- 컨텍스트 스위칭에는 **오버헤드(Overhead)** 가 발생한다.
    - 상태 저장 및 복원에 CPU 시간이 소모됨.
    - **너무 잦은 스위칭은 오히려 성능 저하**를 일으킬 수 있다.

---
