# 프로세스와 스레드 소개

## 📝 Summary

초기 컴퓨터는 한 번에 하나의 작업만 수행할 수 있었다.  
하지만 현대의 컴퓨터는 여러 작업을 동시에 수행할 수 있다.  
나는 인텔리제이로 프로그래밍을 하며, 크롬으로 구글링을 통해 정보를 찾으며, 유튜브로 음악을 듣는다. 이 모든 작업은 동시에 이루어진다.  
이처럼 한 컴퓨터에서 여러 작업을 동시에 수행하는 것을 **멀티 태스킹(Multitasking)** 이라고 한다.

그렇다면 어떻게 여러 작업을 동시에 수행하는 것처럼 보일까?  
컴퓨터는 CPU가 매우 빠르게 작업을 전환하면서 여러 작업을 동시에 수행하는 것처럼 보이게 한다.  
CPU가 매우 빠르게 작업을 전환한다는 것은, CPU가 한 작업을 수행하다가 잠시 멈추고, 다른 작업을 수행하다가 다시 원래 작업으로 돌아오는 것을 의미한다.
이처럼 여러 작업을 동시에 수행하기 위해 CPU가 작업을 빠르게 전환하는 것을 **문맥교환(Context Switching)** 이라고 한다.

- `스케줄링`  
CPU가 작업을 전환하는 정책을 운영체제가 정하는데 이 것을 **스케줄링(Scheduling)** 이라고 한다.  
운영체제는 CPU가 어떤 작업을 먼저 수행할지, 얼마나 오래 수행할지 등을 결정한다.
 


- `단일 프로세싱`, `멀티 프로세싱`  
CPU 코어가 하나인 경우, CPU는 한 번에 하나의 작업만 수행할 수 있다.  
하지만 CPU 코어가 여러 개인 경우, 각 코어가 동시에 하나의 작업을 수행할 수 있다.


### 프로그램과 프로세스
프로그램은 단순한 파일이다. 프로그램을 실행하면 프로세스가 만들어지고 프로그램이 실행된다.  
프로세스는 실행 중인 프로그램이다. 프로세스는 메모리에 적재되어 있어야 한다.  
프로세스의 메모리에는 코드, 데이터, 스택, 힙 등이 포함된다.

### 스레드
스레드는 실이라는 뜻이다. 프로세스 내에서 실제로 작업을 수행하는 단위이다.  
**프로세스는 하나 이상의 스레드를 반드시 포함한다.**  
스레드는 프로세스 내에서 실제로 작업을 수행하는 단위이다. 한 프로세스 내의 여러 스레드들은 동일한 메모리 공간을 공유한다.
그러나 각 스레드는 독립적인 실행 흐름을 가진다. 하나의 프로세스 내에서 여러 스레드가 동시에 실행될 수 있다.

프로세스 내의 스레드의 개수에 따라, 단일 스레드와 멀티 스레드로 구분한다.

단일 코어 스케줄링이란  
CPU 코어가 하나인 경우, CPU는 한 번에 하나의 작업만 수행할 수 있다.
스레드 A, 스레드 B가 있다고 하자. CPU는 스레드 A를 수행하다가 잠시 멈추고, 스레드 B를 수행하다가 다시 원래 스레드 A로 돌아온다.
이처럼 여러 작업을 동시에 수행하기 위해 CPU가 작업을 빠르게 전환하는 것을 **문맥교환(Context Switching)**이라고 한다.

멀티 코어 스케줄링이란
CPU 코어가 2개 이상인 경우, 각 코어가 동시에 하나의 작업을 수행할 수 있다.
스레드 A, 스레드 B가 있다고 하자. CPU 코어 1은 스레드 A를 수행하고, CPU 코어 2는 스레드 B를 수행한다.
이처럼 여러 작업을 동시에 수행할 수 있다.

만약 스케줄링을 아주 짧은 시간 간격으로 수행한다면, 사용자는 여러 작업이 동시에 수행되는 것처럼 느낄 수 있다.
만약 스레드 A, 스레드 B가 있다고 할 때, CPU는 스레드 A를 수행하다 B로 전환할 때, 스레드 A의 상태를 저장하고, 스레드 B의 상태를 복원한다.
이러한 문맥교환 작업은 오버헤드가 발생할 수 있다.




